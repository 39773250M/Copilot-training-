{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet AddVisitComponent = class AddVisitComponent {\n  constructor(fb, route, visitService, router) {\n    this.fb = fb;\n    this.route = route;\n    this.visitService = visitService;\n    this.router = router;\n    this.visitForm = this.fb.group({\n      consultation: ['', Validators.required],\n      treatment: ['', Validators.required],\n      prescription: ['', Validators.required]\n    });\n    this.patientId = this.route.snapshot.paramMap.get('id');\n  }\n  ngOnInit() {}\n  addVisit() {\n    if (this.visitForm.valid) {\n      const visitData = {\n        patientId: this.patientId,\n        consultation: this.visitForm.value.consultation,\n        treatment: this.visitForm.value.treatment,\n        prescription: this.visitForm.value.prescription\n      };\n      this.visitService.addVisit(visitData).subscribe(response => {\n        console.log('Visit added successfully:', response);\n        this.router.navigate(['/patients']);\n      }, error => {\n        console.error('Error adding visit:', error);\n      });\n    }\n  }\n};\nAddVisitComponent = __decorate([Component({\n  selector: 'app-add-visit',\n  templateUrl: './add-visit.component.html',\n  styleUrls: ['./add-visit.component.css']\n})], AddVisitComponent);\nexport { AddVisitComponent };","map":{"version":3,"names":["Component","Validators","AddVisitComponent","constructor","fb","route","visitService","router","visitForm","group","consultation","required","treatment","prescription","patientId","snapshot","paramMap","get","ngOnInit","addVisit","valid","visitData","value","subscribe","response","console","log","navigate","error","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\Murugan\\copilot angular hospital\\Copilot-training\\src\\app\\add-visit\\add-visit.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VisitService } from './../../services/visit/visit.service';\r\n\r\n@Component({\r\n  selector: 'app-add-visit',\r\n  templateUrl: './add-visit.component.html',\r\n  styleUrls: ['./add-visit.component.css']\r\n})\r\nexport class AddVisitComponent implements OnInit {\r\n  visitForm: FormGroup;\r\n  patientId: string;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private visitService: VisitService,\r\n    private router: Router\r\n  ) {\r\n    this.visitForm = this.fb.group({\r\n      consultation: ['', Validators.required],\r\n      treatment: ['', Validators.required],\r\n      prescription: ['', Validators.required]\r\n    });\r\n    this.patientId = this.route.snapshot.paramMap.get('id')!;\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  addVisit(): void {\r\n    if (this.visitForm.valid) {\r\n      const visitData = {\r\n        patientId: this.patientId,\r\n        consultation: this.visitForm.value.consultation,\r\n        treatment: this.visitForm.value.treatment,\r\n        prescription: this.visitForm.value.prescription\r\n      };\r\n\r\n      this.visitService.addVisit(visitData).subscribe(\r\n        (response: any) => {\r\n          console.log('Visit added successfully:', response);\r\n          this.router.navigate(['/patients']);\r\n        },\r\n        (error: any) => {\r\n          console.error('Error adding visit:', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAAiCC,UAAU,QAAQ,gBAAgB;AAS5D,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAI5BC,YACUC,EAAe,EACfC,KAAqB,EACrBC,YAA0B,EAC1BC,MAAc;IAHd,KAAAH,EAAE,GAAFA,EAAE;IACF,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,MAAM,GAANA,MAAM;IAEd,IAAI,CAACC,SAAS,GAAG,IAAI,CAACJ,EAAE,CAACK,KAAK,CAAC;MAC7BC,YAAY,EAAE,CAAC,EAAE,EAAET,UAAU,CAACU,QAAQ,CAAC;MACvCC,SAAS,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACU,QAAQ,CAAC;MACpCE,YAAY,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACU,QAAQ;KACvC,CAAC;IACF,IAAI,CAACG,SAAS,GAAG,IAAI,CAACT,KAAK,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE;EAC1D;EAEAC,QAAQA,CAAA,GAAU;EAElBC,QAAQA,CAAA;IACN,IAAI,IAAI,CAACX,SAAS,CAACY,KAAK,EAAE;MACxB,MAAMC,SAAS,GAAG;QAChBP,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBJ,YAAY,EAAE,IAAI,CAACF,SAAS,CAACc,KAAK,CAACZ,YAAY;QAC/CE,SAAS,EAAE,IAAI,CAACJ,SAAS,CAACc,KAAK,CAACV,SAAS;QACzCC,YAAY,EAAE,IAAI,CAACL,SAAS,CAACc,KAAK,CAACT;OACpC;MAED,IAAI,CAACP,YAAY,CAACa,QAAQ,CAACE,SAAS,CAAC,CAACE,SAAS,CAC5CC,QAAa,IAAI;QAChBC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEF,QAAQ,CAAC;QAClD,IAAI,CAACjB,MAAM,CAACoB,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;MACrC,CAAC,EACAC,KAAU,IAAI;QACbH,OAAO,CAACG,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C,CAAC,CACF;IACH;EACF;CACD;AAxCY1B,iBAAiB,GAAA2B,UAAA,EAL7B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACW9B,iBAAiB,CAwC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}