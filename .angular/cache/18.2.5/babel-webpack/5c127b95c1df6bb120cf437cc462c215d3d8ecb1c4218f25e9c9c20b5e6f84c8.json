{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./../../../src/services/visits/visits.service\";\nfunction AddVisitComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1, \" Consultation is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddVisitComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1, \" Treatment is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddVisitComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1, \" Prescription is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddVisitComponent {\n  constructor(fb, route, visitService, router) {\n    this.fb = fb;\n    this.route = route;\n    this.visitService = visitService;\n    this.router = router;\n    this.patientId = \"\";\n    this.visitForm = this.fb.group({\n      consultation: ['', Validators.required],\n      treatment: ['', Validators.required],\n      prescription: ['', Validators.required]\n    });\n    this.patientId = this.route.snapshot.paramMap.get('id');\n  }\n  ngOnInit() {\n    this.patientId = this.route.snapshot.paramMap.get('id');\n    this.getPatientDetails();\n  }\n  getPatientDetails() {\n    this.patientService.getPatientById(this.patientId).subscribe(patient => {\n      this.patientDetails = patient;\n    }, error => {\n      console.error('Error fetching patient details:', error);\n    });\n  }\n  // addVisit(): void {\n  //   if (this.visitForm.valid) {\n  //     const visitData = {\n  //       patientId: this.patientId,\n  //       consultation: this.visitForm.value.consultation,\n  //       treatment: this.visitForm.value.treatment,\n  //       prescription: this.visitForm.value.prescription\n  //     };\n  //     this.visitService.addVisit(visitData).subscribe(\n  //       (response: any) => {\n  //         console.log('Visit added successfully:', response);\n  //         this.router.navigate(['/patients']);\n  //       },\n  //       (error: any) => {\n  //         console.error('Error adding visit:', error);\n  //       }\n  //     );\n  //   }\n  // }\n  onSubmit() {\n    if (this.visitForm.valid) {\n      const visitData = {\n        ...this.visitForm.value,\n        patientId: this.patientId\n      };\n      this.visitService.addVisit(visitData).subscribe(response => {\n        console.log('Visit added successfully', response);\n        this.router.navigate(['/visits']);\n      }, error => {\n        console.error('Error adding visit', error);\n      });\n    }\n  }\n  static {\n    this.ɵfac = function AddVisitComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AddVisitComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.VisitsService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddVisitComponent,\n      selectors: [[\"app-add-visit\"]],\n      decls: 25,\n      vars: 4,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"card\", \"mb-4\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"mb-3\"], [\"for\", \"consultation\", 1, \"form-label\"], [\"id\", \"consultation\", \"formControlName\", \"consultation\", \"rows\", \"3\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"treatment\", 1, \"form-label\"], [\"id\", \"treatment\", \"formControlName\", \"treatment\", \"rows\", \"3\", 1, \"form-control\"], [\"for\", \"prescription\", 1, \"form-label\"], [\"id\", \"prescription\", \"formControlName\", \"prescription\", \"rows\", \"3\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [1, \"text-danger\"]],\n      template: function AddVisitComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h2\", 5);\n          i0.ɵɵtext(6, \"Add Visit\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"form\")(8, \"div\", 6)(9, \"label\", 7);\n          i0.ɵɵtext(10, \"Consultation\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"textarea\", 8);\n          i0.ɵɵtemplate(12, AddVisitComponent_div_12_Template, 2, 0, \"div\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\", 6)(14, \"label\", 10);\n          i0.ɵɵtext(15, \"Treatment\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(16, \"textarea\", 11);\n          i0.ɵɵtemplate(17, AddVisitComponent_div_17_Template, 2, 0, \"div\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 6)(19, \"label\", 12);\n          i0.ɵɵtext(20, \"Prescription\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(21, \"textarea\", 13);\n          i0.ɵɵtemplate(22, AddVisitComponent_div_22_Template, 2, 0, \"div\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"button\", 14);\n          i0.ɵɵtext(24, \"Add Visit\");\n          i0.ɵɵelementEnd()()()()()()();\n        }\n        if (rf & 2) {\n          let tmp_0_0;\n          let tmp_1_0;\n          let tmp_2_0;\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = ctx.visitForm.get(\"consultation\")) == null ? null : tmp_0_0.invalid) && ((tmp_0_0 = ctx.visitForm.get(\"consultation\")) == null ? null : tmp_0_0.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.visitForm.get(\"treatment\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.visitForm.get(\"treatment\")) == null ? null : tmp_1_0.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.visitForm.get(\"prescription\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.visitForm.get(\"prescription\")) == null ? null : tmp_2_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.visitForm.invalid);\n        }\n      },\n      styles: [\"\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\t\\\"use strict\\\";\\n\\n \\t\\n\\n \\t\\n\\n })()[_ngcontent-%COMP%]\\n;\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","AddVisitComponent","constructor","fb","route","visitService","router","patientId","visitForm","group","consultation","required","treatment","prescription","snapshot","paramMap","get","ngOnInit","getPatientDetails","patientService","getPatientById","subscribe","patient","patientDetails","error","console","onSubmit","valid","visitData","value","addVisit","response","log","navigate","ɵɵdirectiveInject","i1","FormBuilder","i2","ActivatedRoute","i3","VisitsService","Router","selectors","decls","vars","consts","template","AddVisitComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","AddVisitComponent_div_12_Template","AddVisitComponent_div_17_Template","AddVisitComponent_div_22_Template","ɵɵadvance","ɵɵproperty","tmp_0_0","invalid","touched","tmp_1_0","tmp_2_0"],"sources":["E:\\Murugan\\copilot angular hospital\\Copilot-training\\src\\app\\add-visit\\add-visit.component.ts","E:\\Murugan\\copilot angular hospital\\Copilot-training\\src\\app\\add-visit\\add-visit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VisitsService } from './../../../src/services/visits/visits.service';\r\n\r\n@Component({\r\n  selector: 'app-add-visit',\r\n  templateUrl: './add-visit.component.html',\r\n  styleUrls: ['./add-visit.component.css']\r\n})\r\nexport class AddVisitComponent implements OnInit {\r\n  visitForm: FormGroup;\r\n  patientId: string = \"\";\r\n  patientDetails: any;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private visitService: VisitsService,\r\n    private router: Router\r\n  ) {\r\n    this.visitForm = this.fb.group({\r\n      consultation: ['', Validators.required],\r\n      treatment: ['', Validators.required],\r\n      prescription: ['', Validators.required]\r\n    });\r\n    this.patientId = this.route.snapshot.paramMap.get('id')!;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.patientId = this.route.snapshot.paramMap.get('id');\r\n    this.getPatientDetails();\r\n  }\r\n\r\n  getPatientDetails(): void {\r\n    this.patientService.getPatientById(this.patientId).subscribe(\r\n      (patient: any) => {\r\n        this.patientDetails = patient;\r\n      },\r\n      (error: any) => {\r\n        console.error('Error fetching patient details:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  // addVisit(): void {\r\n  //   if (this.visitForm.valid) {\r\n  //     const visitData = {\r\n  //       patientId: this.patientId,\r\n  //       consultation: this.visitForm.value.consultation,\r\n  //       treatment: this.visitForm.value.treatment,\r\n  //       prescription: this.visitForm.value.prescription\r\n  //     };\r\n\r\n  //     this.visitService.addVisit(visitData).subscribe(\r\n  //       (response: any) => {\r\n  //         console.log('Visit added successfully:', response);\r\n  //         this.router.navigate(['/patients']);\r\n  //       },\r\n  //       (error: any) => {\r\n  //         console.error('Error adding visit:', error);\r\n  //       }\r\n  //     );\r\n  //   }\r\n  // }\r\n  onSubmit(): void {\r\n    if (this.visitForm.valid) {\r\n      const visitData = {\r\n        ...this.visitForm.value,\r\n        patientId: this.patientId\r\n      };\r\n      this.visitService.addVisit(visitData).subscribe(\r\n        response => {\r\n          console.log('Visit added successfully', response);\r\n          this.router.navigate(['/visits']);\r\n        },\r\n        error => {\r\n          console.error('Error adding visit', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n}","<div class=\"container mt-4\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"card mb-4\">\r\n        <div class=\"card-body\">\r\n          <h2 class=\"card-title\">Add Visit</h2>\r\n          <form >\r\n            <div class=\"mb-3\">\r\n              <label for=\"consultation\" class=\"form-label\">Consultation</label>\r\n              <textarea id=\"consultation\" class=\"form-control\" formControlName=\"consultation\" rows=\"3\"></textarea>\r\n              <div *ngIf=\"visitForm.get('consultation')?.invalid && visitForm.get('consultation')?.touched\" class=\"text-danger\">\r\n                Consultation is required.\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"treatment\" class=\"form-label\">Treatment</label>\r\n              <textarea id=\"treatment\" class=\"form-control\" formControlName=\"treatment\" rows=\"3\"></textarea>\r\n              <div *ngIf=\"visitForm.get('treatment')?.invalid && visitForm.get('treatment')?.touched\" class=\"text-danger\">\r\n                Treatment is required.\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"prescription\" class=\"form-label\">Prescription</label>\r\n              <textarea id=\"prescription\" class=\"form-control\" formControlName=\"prescription\" rows=\"3\"></textarea>\r\n              <div *ngIf=\"visitForm.get('prescription')?.invalid && visitForm.get('prescription')?.touched\" class=\"text-danger\">\r\n                Prescription is required.\r\n              </div>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-success\" [disabled]=\"visitForm.invalid\">Add Visit</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;ICSrDC,EAAA,CAAAC,cAAA,cAAkH;IAChHD,EAAA,CAAAE,MAAA,kCACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;;IAKNH,EAAA,CAAAC,cAAA,cAA4G;IAC1GD,EAAA,CAAAE,MAAA,+BACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;;IAKNH,EAAA,CAAAC,cAAA,cAAkH;IAChHD,EAAA,CAAAE,MAAA,kCACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;ADhBpB,OAAM,MAAOC,iBAAiB;EAK5BC,YACUC,EAAe,EACfC,KAAqB,EACrBC,YAA2B,EAC3BC,MAAc;IAHd,KAAAH,EAAE,GAAFA,EAAE;IACF,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,MAAM,GAANA,MAAM;IAPhB,KAAAC,SAAS,GAAW,EAAE;IASpB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACL,EAAE,CAACM,KAAK,CAAC;MAC7BC,YAAY,EAAE,CAAC,EAAE,EAAEd,UAAU,CAACe,QAAQ,CAAC;MACvCC,SAAS,EAAE,CAAC,EAAE,EAAEhB,UAAU,CAACe,QAAQ,CAAC;MACpCE,YAAY,EAAE,CAAC,EAAE,EAAEjB,UAAU,CAACe,QAAQ;KACvC,CAAC;IACF,IAAI,CAACJ,SAAS,GAAG,IAAI,CAACH,KAAK,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE;EAC1D;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACV,SAAS,GAAG,IAAI,CAACH,KAAK,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACvD,IAAI,CAACE,iBAAiB,EAAE;EAC1B;EAEAA,iBAAiBA,CAAA;IACf,IAAI,CAACC,cAAc,CAACC,cAAc,CAAC,IAAI,CAACb,SAAS,CAAC,CAACc,SAAS,CACzDC,OAAY,IAAI;MACf,IAAI,CAACC,cAAc,GAAGD,OAAO;IAC/B,CAAC,EACAE,KAAU,IAAI;MACbC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACzD,CAAC,CACF;EACH;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAE,QAAQA,CAAA;IACN,IAAI,IAAI,CAAClB,SAAS,CAACmB,KAAK,EAAE;MACxB,MAAMC,SAAS,GAAG;QAChB,GAAG,IAAI,CAACpB,SAAS,CAACqB,KAAK;QACvBtB,SAAS,EAAE,IAAI,CAACA;OACjB;MACD,IAAI,CAACF,YAAY,CAACyB,QAAQ,CAACF,SAAS,CAAC,CAACP,SAAS,CAC7CU,QAAQ,IAAG;QACTN,OAAO,CAACO,GAAG,CAAC,0BAA0B,EAAED,QAAQ,CAAC;QACjD,IAAI,CAACzB,MAAM,CAAC2B,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;MACnC,CAAC,EACDT,KAAK,IAAG;QACNC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC5C,CAAC,CACF;IACH;EACF;;;uCAvEWvB,iBAAiB,EAAAJ,EAAA,CAAAqC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAvC,EAAA,CAAAqC,iBAAA,CAAAG,EAAA,CAAAC,cAAA,GAAAzC,EAAA,CAAAqC,iBAAA,CAAAK,EAAA,CAAAC,aAAA,GAAA3C,EAAA,CAAAqC,iBAAA,CAAAG,EAAA,CAAAI,MAAA;IAAA;EAAA;;;YAAjBxC,iBAAiB;MAAAyC,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCLpBnD,EALV,CAAAC,cAAA,aAA4B,aACT,aACQ,aACE,aACE,YACE;UAAAD,EAAA,CAAAE,MAAA,gBAAS;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAGjCH,EAFJ,CAAAC,cAAA,WAAO,aACa,eAC6B;UAAAD,EAAA,CAAAE,MAAA,oBAAY;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACjEH,EAAA,CAAAqD,SAAA,mBAAoG;UACpGrD,EAAA,CAAAsD,UAAA,KAAAC,iCAAA,iBAAkH;UAGpHvD,EAAA,CAAAG,YAAA,EAAM;UAEJH,EADF,CAAAC,cAAA,cAAkB,iBAC0B;UAAAD,EAAA,CAAAE,MAAA,iBAAS;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UAC3DH,EAAA,CAAAqD,SAAA,oBAA8F;UAC9FrD,EAAA,CAAAsD,UAAA,KAAAE,iCAAA,iBAA4G;UAG9GxD,EAAA,CAAAG,YAAA,EAAM;UAEJH,EADF,CAAAC,cAAA,cAAkB,iBAC6B;UAAAD,EAAA,CAAAE,MAAA,oBAAY;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACjEH,EAAA,CAAAqD,SAAA,oBAAoG;UACpGrD,EAAA,CAAAsD,UAAA,KAAAG,iCAAA,iBAAkH;UAGpHzD,EAAA,CAAAG,YAAA,EAAM;UACNH,EAAA,CAAAC,cAAA,kBAA6E;UAAAD,EAAA,CAAAE,MAAA,iBAAS;UAMlGF,EANkG,CAAAG,YAAA,EAAS,EAC1F,EACH,EACF,EACF,EACF,EACF;;;;;;UAxBcH,EAAA,CAAA0D,SAAA,IAAsF;UAAtF1D,EAAA,CAAA2D,UAAA,WAAAC,OAAA,GAAAR,GAAA,CAAAzC,SAAA,CAAAQ,GAAA,mCAAAyC,OAAA,CAAAC,OAAA,OAAAD,OAAA,GAAAR,GAAA,CAAAzC,SAAA,CAAAQ,GAAA,mCAAAyC,OAAA,CAAAE,OAAA,EAAsF;UAOtF9D,EAAA,CAAA0D,SAAA,GAAgF;UAAhF1D,EAAA,CAAA2D,UAAA,WAAAI,OAAA,GAAAX,GAAA,CAAAzC,SAAA,CAAAQ,GAAA,gCAAA4C,OAAA,CAAAF,OAAA,OAAAE,OAAA,GAAAX,GAAA,CAAAzC,SAAA,CAAAQ,GAAA,gCAAA4C,OAAA,CAAAD,OAAA,EAAgF;UAOhF9D,EAAA,CAAA0D,SAAA,GAAsF;UAAtF1D,EAAA,CAAA2D,UAAA,WAAAK,OAAA,GAAAZ,GAAA,CAAAzC,SAAA,CAAAQ,GAAA,mCAAA6C,OAAA,CAAAH,OAAA,OAAAG,OAAA,GAAAZ,GAAA,CAAAzC,SAAA,CAAAQ,GAAA,mCAAA6C,OAAA,CAAAF,OAAA,EAAsF;UAIhD9D,EAAA,CAAA0D,SAAA,EAA8B;UAA9B1D,EAAA,CAAA2D,UAAA,aAAAP,GAAA,CAAAzC,SAAA,CAAAkD,OAAA,CAA8B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}